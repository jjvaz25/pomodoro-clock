<!DOCTYPE html>
<html>

<head>
  <title>Pomodoro Clock</title>
  <link rel="stylesheet" href="css-reset.css">
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <header>
    <h1>Pomodoro Clock</h1>
    <h2>Focus up!</h2>
  </header>
<button class="testButton">Test button</button>
  <div class="topButtonContainer">
    <button class="topButton" data-action="pomdoro">Pomodoro</button>
    <button class="topButton" data-action="shortBreak">5 min break</button>
    <button class="topButton" data-action="longBreak">10 min break</button>
  </div>

  <div class="timerContainer">
    Choose your timer using the above menu!
  </div>
  <div class="bottomButtonContainer">
    <button class="bottomButton" data-action="start">Start</button>
    <button class="bottomButton" data-action="pause">pause</button>
    <button class="bottomButton" data-action="reset">reset</button>
  </div>

</body>

<script>
  const timerDisplay = document.querySelector('.timerContainer');
  const topButtons = document.querySelectorAll('.topButton');
  const bottomButtons = document.querySelectorAll('.bottomButton');

  let timerValue = 60*25;
  let storedTime;

  topButtons.forEach((button) => {
    button.addEventListener('click', topButtonClick)
  });

  bottomButtons.forEach((button) => {
    button.addEventListener('click', bottomButtonClick);
  });

  function topButtonClick(e) {
    let action = e.target.dataset.action;
    console.log(action);
    if (action === "pomdoro") {
      timerDisplay.textContent = "25:00";
      timerValue = 60*25;
    } else if (action === "shortBreak") {
      timerDisplay.textContent = "05:00";
      timerValue = 60*5;
    } else {
      timerDisplay.textContent = "10:00";
      timerValue = 60*10
    }
  }

  function bottomButtonClick(e) {
    let action = e.target.dataset.action;
    console.log(action);
    if (action === "start") {
      startTimer(timerValue, timerDisplay);
    } else if (action === "reset") {

    } else {

    }
  }

  function startTimer (duration, display) {
    let timer = duration, minutes, seconds;
    timerOn = true
    timerOn = setInterval(function() {
      let minutes = parseInt((timer/60), 10);
      let seconds = parseInt((timer%60), 10);
      if (minutes < 10) {
        minutes = "0" + minutes;
      } else {
        minutes = minutes;
      }
      if (seconds < 10) {
        seconds = "0" + seconds;
      } else {
        seconds = seconds;
      }
      display.textContent = minutes + ":" + seconds
      if (--timer < 0) {
        timer = duration;
      }
      storedTime = timer;
    }, 1000)
  }

  function pauseTimer(){
    clearInterval(timerOn);
  }


/*
window.onload = function() {
  let twentyFiveMins = 60 * 25;
  let display = document.querySelector('.timerContainer');
  startTimer(twentyFiveMins, display)
}*/

/*
  function setTimer() {
    let minutes = parseInt((timer/60), 10);
    let seconds = parseInt((timer%60), 10);
    if (minutes > 10) {
      minutes = "0" + minutes;
    } else {
      minutes = minutes;
    }
    if (seconds < 10) {
      seconds = "0" + seconds;
    } else {
      seconds = seconds;
    }
    timerDisplay.textContent = minutes + ":" + seconds
  }

  function beginCountdown(duration, display) {
    let timer = duration, minutes, seconds;
    setInterval(function() {
      let minutes = parseInt((timer/60), 10);
      let seconds = parseInt((timer%60), 10);
      if (minutes > 10) {
        minutes = "0" + minutes;
      } else {
        minutes = minutes;
      }
      if (seconds < 10) {
        seconds = "0" + seconds;
      } else {
        seconds = seconds;
      }
      timerDisplay.textContent = minutes + ":" + seconds
    }, 1000);
  }
*/

  let tester = document.querySelector('.testButton')
  tester.addEventListener('click', buttonHit)

  function buttonHit() {
    console.log("hey")
  }

</script>

</html>